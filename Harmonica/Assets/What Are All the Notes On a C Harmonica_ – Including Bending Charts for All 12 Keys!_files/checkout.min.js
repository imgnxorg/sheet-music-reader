"use strict";(function(a){a(window).on("EDD_Payment_Gateway_Changed",function(){c();new b});function b(){var b=a("#edd_purchase_form_wrap");c();function c(){a(b).find("#edd-purchase-button").on("click",function(){i();a(b).find("input, select").each(function(){e(this)});f()});a(b).find("input, select").on("_validate_input",function(){e(this)});a(b).on("_scroll_to_error",function(){f()});a(b).find("fieldset p").on("_make_field_required",function(){g(this)});a(b).find("fieldset p").on("_make_field_not_required",function(){h(this)})}}function c(){var b=a("#edd_purchase_form_wrap fieldset > legend");var c=1;a(b).each(function(){a(this).find(".circle-tag").remove();a(this).prepend("<span class=\"circle-tag\"><span class=\"num\">"+c+"</span></span>");c++})}function d(){var b=a(edd_purchase_form_wrap).find("#edd-stripe-add-new");var c=a(edd_purchase_form_wrap).find("#edd-stripe-update-billing-address");var d=["#edd-card-address-wrap","#edd-card-city-wrap","#edd-card-zip-wrap","#edd-card-country-wrap","#edd-card-state-wrap"];if(b[0]){if(a(b).prop("checked")){a(edd_purchase_form_wrap).find(d.join(",")).each(function(){a(this).trigger("_make_field_required")})}else{if(a(c).prop("checked")){a(edd_purchase_form_wrap).find(d.join(",")).each(function(){a(this).trigger("_make_field_required")})}else{a(edd_purchase_form_wrap).find(d.join(",")).each(function(){a(this).trigger("_make_field_not_required")})}}}else{a(edd_purchase_form_wrap).find(d.join(",")).each(function(){a(this).trigger("_make_field_required")})}}function e(b){if(a(b).prop("required")&&!a(b).val()){a(b).after("<span class=\"error-msg\">This field is required.</span>");a(b).addClass("has-error-msg")}else{a(b).siblings(".error-msg").remove();a(b).removeClass("has-error-msg")}}function f(){var b=a(".has-error-msg").first();if(b.length&&b.is(":visible")){a("html, body").animate({scrollTop:b.offset().top-110},700)}}function g(b){a(b).find("input, select").addClass("required");a(b).find("input, select").prop("required",true);if(!a(b).find("span").hasClass("edd-required-indicator")){a(b).find("label").append("<span class=\"edd-required-indicator\">*</span>")}}function h(b){a(b).find("input, select").removeClass("required");a(b).find("input, select").removeClass("has-error-msg");a(b).find("input, select").prop("required",false);!a(b).find("span.edd-required-indicator").remove()}function i(){var b=a(".StripeElement");b.each(function(){if(a(this).hasClass("StripeElement--empty")){a(this).addClass("has-error-msg")}else{a(this).removeClass("has-error-msg")}});var c=new MutationObserver(function(b){b.forEach(function(b){if(b.attributeName==="class"){if(a(b.target).hasClass("StripeElement--empty")){a(b.target).addClass("has-error-msg")}else{a(b.target).removeClass("has-error-msg")}}})});a(b).each(function(){c.observe(this,{attributes:true})})}})(jQuery);
//# sourceMappingURL=checkout.min.js.map