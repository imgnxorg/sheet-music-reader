"use strict";(function(a){var b=false;var c={stats:{userVisits:0},popups:{}};a(document).ready(function(){c=g(c);d();a(".scheduledPopup").each(function(){new e(this)})});function d(){var a=c.hasOwnProperty("stats")?c.stats:{userVisits:0};var b=a.hasOwnProperty("userVisits")?parseInt(a.userVisits):0;a.userVisits=b+1;c.stats=a;h(c)}function e(d){var e=false;var f=a(d).find(".popup-content");var g=a(d).find(".popup-notification");var i=a(d).find(".btn-show-popup-content");var j=a(d).find(".btn-hide-popup-content");var k=a(d).data("popup-id");var l=a(d).data("delay");var m=a(d).data("scroll-position");var n=a(d).data("dom-selector");var o=a(d).data("dom-event");var p=false;var q=false;var r=false;var s=false;A();B();C();D();a(d).on("_maybe_show_popup",function(){t()});function t(){if(p&&q&&r&&s){if(!b&&!e){b=true;a(g).slideDown(300);a(i).on("click",function(){u()});a(j).on("click",function(){w()})}}}function u(){a(g).slideUp(300);a(f).slideDown(300);if(a(window).width()<850){x()}}function v(){a(g).slideDown(300);a(f).slideUp(300);if(a(window).width()<850){y()}}function w(){a(g).slideUp(300);a(f).slideUp(300);e=true;if(a(window).width()<850){y()}z();setTimeout(function(){b=false;a(".scheduledPopup").trigger("_maybe_show_popup")},scheduled_popup_history.popupTimeoutDelay*1000)}function x(){a("body").addClass("lock-body")}function y(){a("body").removeClass("lock-body")}function z(){var a=Math.round(new Date/1000);var b=c.hasOwnProperty("popups")?c.popups:{};var d=b[k]?b[k]:{noDismissed:0,lastDismissTimeStamp:0};d.noDismissed++;d.lastDismissTimeStamp=a;b[k]=d;c.popups=b;h(c)}function A(){if(l>0){a(window).ready(function(){setTimeout(function(){p=true;t()},l*1000)})}else{p=true;t()}}function B(){if(m>0){var b=function checkScrollCondition(){if(q){return}var b=a(window).scrollTop();var c=a(document).height();var d=a(window).height();var e=b/(c-d)*100;if(e>=m){q=true;t()}};b();a(window).scroll(b)}else{q=true;t()}}function C(){if(n&&n!==""){var b=n.split(",").map(function(a){return a.trim()});b.forEach(function(b){a(b).on("click",function(){r=true;t();r=false})})}else{r=true;t()}}function D(){if(o&&o!==""){a(document).on(o,function(){s=true;t()})}else{s=true;t()}}}function f(b){a.ajax({type:"POST",dataType:"JSON",url:scheduled_popup_history.ajaxurl,data:{action:"set-scheduled-popup-history-object",security:scheduled_popup_history.nonce,historyObject:b},success:function success(a){}})}function g(a){if(scheduled_popup_history.userMeta){return JSON.parse(scheduled_popup_history.userMeta)}else{var b=i();if(b){return JSON.parse(b)}}return a}function h(a){j(JSON.stringify(a));f(a)}function i(){var a=scheduled_popup_cookie.cookieIdHistory;var b=window.cookieman?window.cookieman.getCookie(a):null;return b?decodeURIComponent(b):null}function j(a){var b=scheduled_popup_cookie.cookieIdHistory;var c=parseInt(scheduled_popup_cookie.cookieExpirationDays);window.cookieman?window.cookieman.registerCookie(b,a,c,"necessary"):null}})(jQuery);
//# sourceMappingURL=scheduled-popups.min.js.map